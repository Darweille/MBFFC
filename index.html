<!DOCTYPE html>
<html ondragover="DrapOver(event)" ondrop="DropFile(event)">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type">
<meta content="zh-tw" http-equiv="Content-Language">
<title>Darweille's MnB Bitmap Font File Converter</title>
<link rel="stylesheet" type="text/css" href="desktop.css">
<script>
//取得全部Cookie並解析為陣列
var AllCookieArray = document.cookie.split(";");
var CookieMobileNumber = -1;
var CookieMobileData = 0;

//搜尋全部的Cookie
for (count=0; count<AllCookieArray.length; count++)
{
	var CookieName = AllCookieArray[count].split("=");
	if (CookieName[0] == "Mobile")
	{
		CookieMobileNumber = count;
	}
}

//若有找到Mobile的Cookie
if (CookieMobileNumber != -1)
{
	CookieMobileData = AllCookieArray[CookieMobileNumber].split("=")[1]; //讀取數值
}

//假如不是從Mobile頁回來
if (CookieMobileData != 1)
{
	//判斷解析度的寬度
	if (screen.width < 768)
	{
		location.replace("mobile.html");
	}
}
</script>
</head>
<body>
<div id="DivIDTitle">
	<p>Darweille's MnB Bitmap Font File Converter (FNT to XML)</p>
</div>

<div id="DivFileSelectArea" onclick="InputIDSelectFile.click()"><p id="PIDFileSelectArea">瀏覽器必須允許使用 JavaScript 指令碼<br /><br />The browser must enable JavaScript.</p></div>

<input id="InputIDSelectFile" name="InputNameSelectFile" type="file" accept=".fnt" oninput="SelectFile()" style="display: none">

<div id="DivIDFontSetting">
<ul>
	<li><span id="SpanIDFontOptionsSize"><input id="InputIDFontOptionsSize" name="InputNameFontSize" oninput="FontSetChange()" type="number" value=""></span></li>
	<li><span id="SpanIDFontOptionsSpacing"><input id="InputIDFontOptionsSpacing" name="InputNameFontSpacing" oninput="FontSetChange()" type="number" value=""></span></li>
	<li><span id="SpanIDFontOptionsVerticalOffset"><input id="InputIDFontOptionsVerticalOffset" name="InputNameFontVerticalOffset" oninput="FontSetChange()" type="number" value=""></span></li>
</ul>
</div>

<div id="DivIDOutputArea">
<textarea id="TextareaIDOutput" name="TextareaNameOutput" readonly></textarea>
	<div id="DivIDButton">
		<ul>
			<li><input id="InputIDCopyButton" name="InputNameCopyButton" type="button" onclick="CopyText()" value="Copy All"></li>
			<li><input id="InputIDSaveButton" name="InputNameSaveButton" type="button" onclick="SaveFile('font_data.xml')" style="display: none" value="Save File"></li>
		</ul>
	</div>
</div>

<div id="DivIDBottom">
	<p>Language: 
		<select id="SelectIDLanguage" name="SelectNameLanguage" onchange="LanguageSelected()">
			<option value="en" selected="">English</option>
			<option value="tc">中文</option>
		</select>
	</p>
	<p>The original converts code is modified from: <a href="https://bitbucket.org/Swyter/" target="_blank">Swyter's Mount and Blade Bitmap Font Converter From Angelcode's BMFont format</a>.</p>
	<p>Last Update: 2020/11/22 by <a href="https://github.com/Darweille" target="_blank">Darweille</a>.</p>
</div>

<textarea id="TextareaIDInput" name="TextareaNameInput" cols="1" rows="1" oninput="Convert()" readonly="readonly" style="display: none"></textarea>
<input id="InputIDStringFileSelectArea" name="InputNameStringFileSelectArea"  oninput="StringChange()" type="number" value="0" style="display: none">

<script type="text/javascript" src="Converter.js"></script>
</body>
</html>